<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>pimged.datahandling.dataset API documentation</title>
<meta name="description" content="Dataset structure for the PIMGED framework …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
<style>.homelink{display:block;font-size:2em;font-weight:bold;color:#555;padding-bottom:.5em;border-bottom:1px solid silver}.homelink:hover{color:inherit}.homelink img{max-width:100%;max-height:10em;margin:auto;margin-bottom:.3em;margin-top:.3em}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pimged.datahandling.dataset</code></h1>
</header>
<section id="section-intro">
<p>Dataset structure for the PIMGED framework.</p>
<p>This is the main dataset function containing all rutines for handling data.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Dataset structure for the PIMGED framework.

This is the main dataset function containing all rutines for handling data.
&#34;&#34;&#34;
import numpy as np

from .dataloading import Dataload
from .datacontainers import Imagearrays, Pressurearrays, Filesinfo


class Dataset(Dataload):
    &#34;&#34;&#34;Datasetset class for the PIMGED framework.&#34;&#34;&#34;

    def __init__(self, mainpath: str = None,
                 imagefoldername: str = None,
                 imagesearchfolders: list = None,
                 zeroparticlesfolder: str = None,
                 pressurefoldername: str = &#34;&#34;,
                 pressuresearchfolders: list = None,
                 fullparticlesfolder: str = &#34;&#34;,
                 calcprecision=np.float32,
                 imagerawdepth=np.uint16,
                 errignor: bool = True,
                 checkmeta: bool = True,
                 loadmeta: bool = True):
        &#34;&#34;&#34;Dataset is a class handler for data storage of images.

        Designed to handle images from PFV software with CHIX metadata. The object inhearit two
        the main module:
        Dataload:
            Which is the module for loading data into the raw array under imagearrays and
            fileinformation about the loaded data.

        In Dataset two datacontainers are initialized from the datacontainer module:
        Imagearrays:
            This is the container for all image data in the dataset, based on ndarrays with extra
            methods added. It is possible to save data with this module
        Pressuresarrays:
            This is the container for all pressure data in the dataset, based on ndarrays with
            extra methods added. It is possible to save data with this module

        If an empty dataset is wanted, just set all folder input to empty strings or lists with
        empty strings and &#34;checkmeta = False&#34; along with &#34;loadmeta = False&#34;

        To load images not related to PFV4 software CHIX metadata files from Photon cameras,
        disable metadata checks and loading by setting &#34;checkmeta = False&#34; along with
        &#34;loadmeta = False&#34;


        Parameters
        ----------
        mainpath : str :
             REQUIERED
            The main directory path where the image folder and pressure folders are positioned

        imagefoldername : str :
             REQUIRED
            foldername inside the main path containing the imagefolders

        imagesearchfolders : list :
             REQUIERED
            list of the folders present in the image folder that contain the images for the dataset

        zeroparticlesfolder : str :
             REQUIRED
            name of the folder with the initial images without particles

        pressurefoldername : str :
             (Default value = &#39;&#39;)
            OPTIONAL
            foldername inside the main path for the pressure datasets

        pressuresearchfolders : list :
             OPTIONAL
            list of folders present in the main path that contain the pressure data for the image
            series. (can be left out)

        fullparticlesfolder : str :
             (Default value = &#39;&#39;)
            OPTIONAL
            If given the code use this folder for all calibrations of densities. It is
            adviced not to use this function, may be depricated later

        calcprecision : numpy.dtype :
             (Default value = numpy.float32)
            OPTIONAL
            Calculation precision in numpy notation for all calculations done

        imagerawdepth : numpy.dtype :
             (Default value = numpy.float32)
            OPTIONAL
            The image pracision in numpy notation for all raw images

        errignor : bool :
             (Default value = True)
            OPTIONAL
            false - raise error if not all inifiles have the same image and camera data,
            true - show warning

        checkmeta : bool :
             (Default value = True)
            OPTIONAL
            true - check if dataseries metadata should be compared for series integrety
            flase - no check

        loadmeta : bool :
             (Default value = True)
            OPTIONAL
            If the metadata should be loaded

        Raises
        ------
        ValueError: :
            If requiered inputs are not given, this error will rise
        &#34;&#34;&#34;
        if mainpath is None:
            raise ValueError(&#39;Mainpath not defined&#39;)
        if imagefoldername is None:
            raise ValueError(&#39;Sub folder in main path of picture dataset not defined&#39;)
        if imagesearchfolders is None:
            raise ValueError(&#39;Searchfolders not defined&#39;)
        if len(imagesearchfolders) == 0:
            raise ValueError(&#39;Given list af image searchfolders are empty&#39;)
        if zeroparticlesfolder is None:
            raise ValueError(&#39;Zeroparticlesfolder not defined&#39;)

        self._fileinfo = Filesinfo()
        self.images = Imagearrays(calcprecision=calcprecision, imagerawdepth=imagerawdepth)
        self.pressures = Pressurearrays(calcprecision=calcprecision)
        super().__init__(self.images, self.pressures, self._fileinfo, mainpath,
                         imagesearchfolders, zeroparticlesfolder,
                         fullparticlesfolder=fullparticlesfolder,
                         errignor=errignor,
                         pressuresearchfolders=pressuresearchfolders,
                         imagefoldername=imagefoldername,
                         pressurefoldername=pressurefoldername,
                         checkmeta=checkmeta,
                         loadmeta=loadmeta)

    def __str__(self):
        &#34;&#34;&#34;Class representation.&#34;&#34;&#34;
        return &#34;Main object for handling PImGED datasets with images&#34;</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pimged.datahandling.dataset.Dataset"><code class="flex name class">
<span>class <span class="ident">Dataset</span></span>
<span>(</span><span>mainpath: str = None, imagefoldername: str = None, imagesearchfolders: list = None, zeroparticlesfolder: str = None, pressurefoldername: str = '', pressuresearchfolders: list = None, fullparticlesfolder: str = '', calcprecision=numpy.float32, imagerawdepth=numpy.uint16, errignor: bool = True, checkmeta: bool = True, loadmeta: bool = True)</span>
</code></dt>
<dd>
<div class="desc"><p>Datasetset class for the PIMGED framework.</p>
<p>Dataset is a class handler for data storage of images.</p>
<p>Designed to handle images from PFV software with CHIX metadata. The object inhearit two
the main module:</p>
<h2 id="dataload">Dataload</h2>
<p>Which is the module for loading data into the raw array under imagearrays and
fileinformation about the loaded data.</p>
<p>In Dataset two datacontainers are initialized from the datacontainer module:</p>
<h2 id="imagearrays">Imagearrays</h2>
<p>This is the container for all image data in the dataset, based on ndarrays with extra
methods added. It is possible to save data with this module</p>
<h2 id="pressuresarrays">Pressuresarrays</h2>
<p>This is the container for all pressure data in the dataset, based on ndarrays with
extra methods added. It is possible to save data with this module</p>
<p>If an empty dataset is wanted, just set all folder input to empty strings or lists with
empty strings and "checkmeta = False" along with "loadmeta = False"</p>
<p>To load images not related to PFV4 software CHIX metadata files from Photon cameras,
disable metadata checks and loading by setting "checkmeta = False" along with
"loadmeta = False"</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>mainpath</code></strong> :&ensp;<code>str :</code></dt>
<dd>REQUIERED
The main directory path where the image folder and pressure folders are positioned</dd>
<dt><strong><code>imagefoldername</code></strong> :&ensp;<code>str :</code></dt>
<dd>REQUIRED
foldername inside the main path containing the imagefolders</dd>
<dt><strong><code>imagesearchfolders</code></strong> :&ensp;<code>list :</code></dt>
<dd>REQUIERED
list of the folders present in the image folder that contain the images for the dataset</dd>
<dt><strong><code>zeroparticlesfolder</code></strong> :&ensp;<code>str :</code></dt>
<dd>REQUIRED
name of the folder with the initial images without particles</dd>
<dt><strong><code>pressurefoldername</code></strong> :&ensp;<code>str :</code></dt>
<dd>(Default value = '')
OPTIONAL
foldername inside the main path for the pressure datasets</dd>
<dt><strong><code>pressuresearchfolders</code></strong> :&ensp;<code>list :</code></dt>
<dd>OPTIONAL
list of folders present in the main path that contain the pressure data for the image
series. (can be left out)</dd>
<dt><strong><code>fullparticlesfolder</code></strong> :&ensp;<code>str :</code></dt>
<dd>(Default value = '')
OPTIONAL
If given the code use this folder for all calibrations of densities. It is
adviced not to use this function, may be depricated later</dd>
<dt><strong><code>calcprecision</code></strong> :&ensp;<code>numpy.dtype :</code></dt>
<dd>(Default value = numpy.float32)
OPTIONAL
Calculation precision in numpy notation for all calculations done</dd>
<dt><strong><code>imagerawdepth</code></strong> :&ensp;<code>numpy.dtype :</code></dt>
<dd>(Default value = numpy.float32)
OPTIONAL
The image pracision in numpy notation for all raw images</dd>
<dt><strong><code>errignor</code></strong> :&ensp;<code>bool :</code></dt>
<dd>(Default value = True)
OPTIONAL
false - raise error if not all inifiles have the same image and camera data,
true - show warning</dd>
<dt><strong><code>checkmeta</code></strong> :&ensp;<code>bool :</code></dt>
<dd>(Default value = True)
OPTIONAL
true - check if dataseries metadata should be compared for series integrety
flase - no check</dd>
<dt><strong><code>loadmeta</code></strong> :&ensp;<code>bool :</code></dt>
<dd>(Default value = True)
OPTIONAL
If the metadata should be loaded</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><strong><code>ValueError</code></strong> :&ensp;<code>:</code></dt>
<dd>If requiered inputs are not given, this error will rise</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Dataset(Dataload):
    &#34;&#34;&#34;Datasetset class for the PIMGED framework.&#34;&#34;&#34;

    def __init__(self, mainpath: str = None,
                 imagefoldername: str = None,
                 imagesearchfolders: list = None,
                 zeroparticlesfolder: str = None,
                 pressurefoldername: str = &#34;&#34;,
                 pressuresearchfolders: list = None,
                 fullparticlesfolder: str = &#34;&#34;,
                 calcprecision=np.float32,
                 imagerawdepth=np.uint16,
                 errignor: bool = True,
                 checkmeta: bool = True,
                 loadmeta: bool = True):
        &#34;&#34;&#34;Dataset is a class handler for data storage of images.

        Designed to handle images from PFV software with CHIX metadata. The object inhearit two
        the main module:
        Dataload:
            Which is the module for loading data into the raw array under imagearrays and
            fileinformation about the loaded data.

        In Dataset two datacontainers are initialized from the datacontainer module:
        Imagearrays:
            This is the container for all image data in the dataset, based on ndarrays with extra
            methods added. It is possible to save data with this module
        Pressuresarrays:
            This is the container for all pressure data in the dataset, based on ndarrays with
            extra methods added. It is possible to save data with this module

        If an empty dataset is wanted, just set all folder input to empty strings or lists with
        empty strings and &#34;checkmeta = False&#34; along with &#34;loadmeta = False&#34;

        To load images not related to PFV4 software CHIX metadata files from Photon cameras,
        disable metadata checks and loading by setting &#34;checkmeta = False&#34; along with
        &#34;loadmeta = False&#34;


        Parameters
        ----------
        mainpath : str :
             REQUIERED
            The main directory path where the image folder and pressure folders are positioned

        imagefoldername : str :
             REQUIRED
            foldername inside the main path containing the imagefolders

        imagesearchfolders : list :
             REQUIERED
            list of the folders present in the image folder that contain the images for the dataset

        zeroparticlesfolder : str :
             REQUIRED
            name of the folder with the initial images without particles

        pressurefoldername : str :
             (Default value = &#39;&#39;)
            OPTIONAL
            foldername inside the main path for the pressure datasets

        pressuresearchfolders : list :
             OPTIONAL
            list of folders present in the main path that contain the pressure data for the image
            series. (can be left out)

        fullparticlesfolder : str :
             (Default value = &#39;&#39;)
            OPTIONAL
            If given the code use this folder for all calibrations of densities. It is
            adviced not to use this function, may be depricated later

        calcprecision : numpy.dtype :
             (Default value = numpy.float32)
            OPTIONAL
            Calculation precision in numpy notation for all calculations done

        imagerawdepth : numpy.dtype :
             (Default value = numpy.float32)
            OPTIONAL
            The image pracision in numpy notation for all raw images

        errignor : bool :
             (Default value = True)
            OPTIONAL
            false - raise error if not all inifiles have the same image and camera data,
            true - show warning

        checkmeta : bool :
             (Default value = True)
            OPTIONAL
            true - check if dataseries metadata should be compared for series integrety
            flase - no check

        loadmeta : bool :
             (Default value = True)
            OPTIONAL
            If the metadata should be loaded

        Raises
        ------
        ValueError: :
            If requiered inputs are not given, this error will rise
        &#34;&#34;&#34;
        if mainpath is None:
            raise ValueError(&#39;Mainpath not defined&#39;)
        if imagefoldername is None:
            raise ValueError(&#39;Sub folder in main path of picture dataset not defined&#39;)
        if imagesearchfolders is None:
            raise ValueError(&#39;Searchfolders not defined&#39;)
        if len(imagesearchfolders) == 0:
            raise ValueError(&#39;Given list af image searchfolders are empty&#39;)
        if zeroparticlesfolder is None:
            raise ValueError(&#39;Zeroparticlesfolder not defined&#39;)

        self._fileinfo = Filesinfo()
        self.images = Imagearrays(calcprecision=calcprecision, imagerawdepth=imagerawdepth)
        self.pressures = Pressurearrays(calcprecision=calcprecision)
        super().__init__(self.images, self.pressures, self._fileinfo, mainpath,
                         imagesearchfolders, zeroparticlesfolder,
                         fullparticlesfolder=fullparticlesfolder,
                         errignor=errignor,
                         pressuresearchfolders=pressuresearchfolders,
                         imagefoldername=imagefoldername,
                         pressurefoldername=pressurefoldername,
                         checkmeta=checkmeta,
                         loadmeta=loadmeta)

    def __str__(self):
        &#34;&#34;&#34;Class representation.&#34;&#34;&#34;
        return &#34;Main object for handling PImGED datasets with images&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="pimged.datahandling.dataloading.Dataload" href="dataloading.html#pimged.datahandling.dataloading.Dataload">Dataload</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="pimged.datahandling.dataloading.Dataload" href="dataloading.html#pimged.datahandling.dataloading.Dataload">Dataload</a></b></code>:
<ul class="hlist">
<li><code><a title="pimged.datahandling.dataloading.Dataload.loadimages" href="dataloading.html#pimged.datahandling.dataloading.Dataload.loadimages">loadimages</a></code></li>
<li><code><a title="pimged.datahandling.dataloading.Dataload.loadpressures" href="dataloading.html#pimged.datahandling.dataloading.Dataload.loadpressures">loadpressures</a></code></li>
<li><code><a title="pimged.datahandling.dataloading.Dataload.loadpressuresOLD" href="dataloading.html#pimged.datahandling.dataloading.Dataload.loadpressuresOLD">loadpressuresOLD</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<header>
<center><a class="homelink" rel="home" title="PImGED treat" href="https://youtu
.be/mx86-rTclzA?si=RWJEgJIT8MdOsVn7">
<img src="https://i.ibb.co/Tbp2rPk/logo.png" alt="">
</a></center>
</header>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="pimged.datahandling" href="index.html">pimged.datahandling</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pimged.datahandling.dataset.Dataset" href="#pimged.datahandling.dataset.Dataset">Dataset</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>